# Creating a launch file
## Prerequisites
*1.This tutorial uses the rqt_graph and turtlesim packages.

*2. we will also need to use a text editor of your preference.*

*3. As always, we wont forget to source ROS 2 in every new terminal that we open.*

# Tasks
##1. Setup
*lets Create a new directory to store our launch files:*
```
mkdir launch
```
##2. Write the launch file
*Let’s put together a ROS 2 launch file using the `turtlesim` package and its executables. As mentioned above, this can either be in Python, XML, or YAML.*

*Lets Copy and paste the complete code into the `launch/turtlesim_mimic_launch.py` file:*
```
from launch import LaunchDescription
from launch_ros.actions import Node

def generate_launch_description():
    return LaunchDescription([
        Node(
            package='turtlesim',
            namespace='turtlesim1',
            executable='turtlesim_node',
            name='sim'
        ),
        Node(
            package='turtlesim',
            namespace='turtlesim2',
            executable='turtlesim_node',
            name='sim'
        ),
        Node(
            package='turtlesim',
            executable='mimic',
            name='mimic',
            remappings=[
                ('/input/pose', '/turtlesim1/turtle1/pose'),
                ('/output/cmd_vel', '/turtlesim2/turtle1/cmd_vel'),
            ]
        )
    ])
 ```
## 3. ros2 launch
*To run the launch file created above, enter into the directory you created earlier and run the following command:*
```
cd launch
ros2 launch turtlesim_mimic_launch.py
```
*Two turtlesim windows will open, and we will see the following `[INFO]` messages telling you which nodes your launch file has started:*
```
[INFO] [launch]: Default logging verbosity is set to INFO
[INFO] [turtlesim_node-1]: process started with pid [11714]
[INFO] [turtlesim_node-2]: process started with pid [11715]
[INFO] [mimic-3]: process started with pid [11716]
```
*To see the system in action, we open a new terminal and run the `ros2 topic pub` command on the `/turtlesim1/turtle1/cmd_vel` topic to get the first turtle moving*
```
ros2 topic pub -r 1 /turtlesim1/turtle1/cmd_vel geometry_msgs/msg/Twist "{linear: {x: 2.0, y: 0.0, z: 0.0}, angular: {x: 0.0, y: 0.0, z: -1.8}}"
```
*Now both the turtules are following the same path*

## 4. Introspect the system with rqt_graph
*While the system is still running, we open a new terminal and `run rqt_graph` to get a better idea of the relationship between the nodes in your launch file.

`Let's Run the command`
```
rqt_graph
```
